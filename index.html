<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Waterloo-3D-ModelV1</title>
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<base target="_blank">
<link rel="stylesheet" type="text/css" href="./Qgis2threejs.css">
<script src="./threejs/three.min.js"></script>
<script src="./threejs/OrbitControls.js"></script>
<script src="./threejs/ViewHelper.js"></script>
<script src="./Qgis2threejs.js"></script>
<script src="./dat-gui/dat.gui.min.js"></script>
<script src="./dat-gui_panel.js"></script>
</head>
<body>
<div id="view">
  <div id="northarrow"></div>
  <div id="navigation"></div>
</div>

<!-- popup -->
<div id="popup">
  <div id="closebtn">&times;</div>
  <div id="popupbar"></div>
  <div id="popupbody">
    <div id="popupcontent"></div>

    <!-- query result -->
    <div id="queryresult">
      <table id="qr_coords_table">
        <caption>Clicked coordinates <div id="zoomtopoint" class="action-zoom zoombtn"></div></caption>
        <tr><td id="qr_coords"></td></tr>
      </table>

      <table id="qr_layername_table">
        <caption>Layer <div id="zoomtolayer" class="action-zoom zoombtn"></div></caption>
        <tr><td id="qr_layername"></td></tr>
      </table>

      <table id="qr_attrs_table">
        <caption>Attributes</caption>
      </table>

      <!-- camera actions and measure tool -->
      <div id="orbitbtn" class="action-btn action-orbit">Orbit</div>
      <div id="measurebtn" class="action-btn">Measure distance</div>
    </div>

    <!-- page info -->
    <div id="pageinfo">
      <h1>Current View URL</h1>
      <div><input id="urlbox" type="text"></div>

      <h1>Usage</h1>
      <table id="usage">
        <tr><td colspan="2" class="star">Mouse</td></tr>
        <tr><td>Left button + Move</td><td>Orbit</td></tr>
        <tr><td>Mouse Wheel</td><td>Zoom</td></tr>
        <tr><td>Right button + Move</td><td>Pan</td></tr>

        <tr><td colspan="2" class="star">Keys</td></tr>
        <tr><td>Arrow keys</td><td>Move Horizontally</td></tr>
        <tr><td>Shift + Arrow keys</td><td>Orbit</td></tr>
        <tr><td>Ctrl + Arrow keys</td><td>Rotate</td></tr>
        <tr><td>Shift + Ctrl + Up / Down</td><td>Zoom In / Out</td></tr>
        <tr><td>L</td><td>Toggle Label Visibility</td></tr>
        <tr><td>R</td><td>Start / Stop Orbit Animation</td></tr>
        <tr><td>W</td><td>Wireframe Mode</td></tr>
        <tr><td>Shift + R</td><td>Reset Camera Position</td></tr>
        <tr><td>Shift + S</td><td>Save Image</td></tr>
      </table>
<h1>About</h1>
<div id="about" style="max-height: 400px; overflow-y: auto; padding-right: 10px;">

  <h3>About the Author</h3>
  <p>I am a 17-year-old student from California who is fascinated with Napoleonic military history. I plan to make this a series, moving next to one of my favorite battles, Rivoli (I love the 1st Italian Campaign!), after finishing up Waterloo.</p>

  <h3>About the Map</h3>
  <p>This map was created using the software QGIS and exported with the plugin Qgis2threejs. Open-source satellite imagery of the region of Waterloo was georeferenced with Sir Archibald Alison's "Crisis of the Battle" map. Troop positions were then created using polygons and adjusted based on the consensus of their locations during the Old Guard’s infantry assault. Each polygon was tagged with attributes identifying their division. For example, a unit listed under "Foy" on Alison’s map was attributed to the "9th Division", "Maximilien Sébastien Foy", "II Corps", and given a short biography, a portrait of the commander, and relevant paintings showing the unit in action.</p>
  <p>Popups were built to stylize and display these attributes interactively. This is still a work in progress as only the French Army is complete, and there may be some historical inaccuracies. The references tab is also incomplete, but most sources include the Waterloo Society website, the Nafziger Napoleonic Orders of Battle Collection, FrenchEmpire.net, <em>The Campaigns of Napoleon</em> by David Chandler, and Wikipedia (mostly for portraits and paintings).</p>

  <h3>Contact</h3>
  <p>You can reach me at <a href="mailto:Halstendean@gmail.com">Halstendean@gmail.com</a> Feedback is welcome! Please contact me if you believe there are any historical discrepancies as well!</p>
  <h3>License</h3>
<p style="font-size: 0.95em;">
  All original code and written content on this page is © 2025 by Halsten Olivos and licensed under
  <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">Creative Commons BY-NC-ND 4.0</a>.
  </p>
<p style="font-size: 0.95em;">
  This project makes use of the <a href="https://github.com/minorua/Qgis2threejs" target="_blank">Qgis2threejs</a> plugin, developed by minorua, and its default viewer template. No ownership is claimed over any third-party library or template included by default. These components remain under their original licenses.
</p>
<p style="font-size: 0.95em;">
  Images used in this project are either believed to be in the public domain or included under a good-faith fair use rationale for educational and non-commercial purposes. No license is asserted over these images. If you are the copyright holder of any image and would like it removed or credited, please contact <a href="mailto:Halstendean@gmail.com">Halstendean@gmail.com</a>.
</p>
</div>

    </div>
  </div>
</div>

<!-- progress bar -->
<div id="progress"><div id="progressbar"></div></div>

<!-- header and footer -->
<div id="header"></div>
<div id="footer"></div>

<!-- animation -->
<div id="narrativebox" class="ef1">
  <div id="narbody">

  </div>
  <div id="nextbtn"></div>
</div>

<script>
Q3D.Config.localMode = true;
Q3D.Config.gui.customPlane = true;

var container = document.getElementById("view"),
    app = Q3D.application,
    gui = Q3D.gui;

app.init(container);    // initialize viewer

// load the scene
app.loadSceneFile("./data/waterloo3dmodelV1/scene.js", function (scene) {
  // scene file has been loaded
  app.start();

  gui.dat.initLayersFolder(scene);

}, function (scene) {
  // all relevant files have been loaded

  if (Q3D.Config.gui.customPlane) {
    // specify preferred values. If not specified, z range of scene bounding box is used.
    var zMin = undefined,
        zMax = undefined;
    gui.dat.initCustomPlaneFolder(zMin, zMax);
  }
});
</script>
</body>
</html>
